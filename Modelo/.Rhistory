install.packages(c("collections", "crosstalk", "glue", "languageserver", "Rcpp", "RMySQL", "shiny", "timetk", "vctrs"))
install.packages(c("backports", "callr", "DT", "forecast", "fs", "glue", "isoband", "languageserver", "lattice", "lubridate", "padr", "plotly", "quantmod", "Rcpp", "rematch2", "reshape2", "reticulate", "tibble", "timetk", "tinytex", "xml2", "xptr"))
install.packages("tensorflow")
install.packages("keras")
library(keras)
keras::install_keras()
q()
lintr:::addin_lint()
styler:::style_active_file()
styler:::style_selection()
styler:::set_style_transformers()
styler:::style_selection()
??xtable
help(xtable)
setwd("C:/Users/Thiago/Desktop/Google Drive/ITP/Modelo/Modelo_Completo")
library(tidyverse)
distance =  read.csv("../Distanciamento/Distanciamento_Especificado.csv")
pib = read.csv("../PIB_Nominal/PIB_especificado.csv")
export = read.csv("../Exportações/Valor_Exportacao_Especificado.csv")
Notif = read.csv("../Notificacoes/Objetivos_Agrupados.csv")
tarif = read.csv("../Tarifas/Tarifas_Especificadas.csv")
View(tarif)
tarif = tarif %>%
rename(Country.Name = Country) %>%
select(c(-"Simple.Average", -"Imports.Value.in.1000.USD"))
View(export)
colnames(export)
Notif$Commodity.Code = Notif$Commodity.Code %>%
substr(0,2) %>%
as.numeric()
Notif = Notif %>%
filter(Commodity.Code < 16)
pib = pib %>%
mutate(PIB_.1000_US.. = PIB_.1000_US.. * 1000)
distance = distance %>%
select(Country.Code, contig, distw)
df = left_join(pib,tarif, by=c("Country.Name", "Year")) %>%
filter(Year > 1996) %>%
left_join(distance, by="Country.Code") %>%
drop_na() %>%
left_join(export)
right_join(Notif, by=c("Year", "Country.Code", "Commodity.Code")) %>%
fill(c("Country.Name", "Country.Code", "PIB_.1000_US..",
"Simple.Average", "Weighted.Average","Imports.Value.in.1000.USD",
"contig","distw")) %>%
select(c(-"X.x", -"X.y",)) %>%
mutate(ln_PIB = log(PIB_.1000_US..,),
ln_Tariff = log(1 + Weighted.Average),
ln_Export = log(Imports.Value.in.1000.USD)) %>%
select(c(-"PIB_.1000_US..",-"Weighted.Average",
-"Imports.Value.in.1000.USD"))
df = left_join(pib,tarif, by=c("Country.Name", "Year")) %>%
filter(Year > 1996) %>%
left_join(distance, by="Country.Code") %>%
drop_na() %>%
left_join(export) %>%
right_join(Notif, by=c("Year", "Country.Code", "Commodity.Code")) %>%
fill(c("Country.Name", "Country.Code", "PIB_.1000_US..",
"Simple.Average", "Weighted.Average","Imports.Value.in.1000.USD",
"contig","distw")) %>%
select(c(-"X.x", -"X.y",)) %>%
mutate(ln_PIB = log(PIB_.1000_US..,),
ln_Tariff = log(1 + Weighted.Average),
ln_Export = log(Imports.Value.in.1000.USD)) %>%
select(c(-"PIB_.1000_US..",-"Weighted.Average",
-"Imports.Value.in.1000.USD"))
df = left_join(pib,tarif, by=c("Country.Name", "Year")) %>%
filter(Year > 1996) %>%
left_join(distance, by="Country.Code") %>%
drop_na() %>%
left_join(export) %>%
right_join(Notif, by=c("Year", "Country.Code", "Commodity.Code")) %>%
fill(c("Country.Name", "Country.Code", "PIB_.1000_US..",
"Weighted.Average","Imports.Value.in.1000.USD",
"contig","distw")) %>%
select(c(-"X.x", -"X.y",)) %>%
mutate(ln_PIB = log(PIB_.1000_US..,),
ln_Tariff = log(1 + Weighted.Average),
ln_Export = log(Imports.Value.in.1000.USD)) %>%
select(c(-"PIB_.1000_US..",-"Weighted.Average",
-"Imports.Value.in.1000.USD"))
df = left_join(pib,tarif, by=c("Country.Name", "Year")) %>%
filter(Year > 1996) %>%
left_join(distance, by="Country.Code") %>%
drop_na() %>%
left_join(export) %>%
right_join(Notif, by=c("Year", "Country.Code", "Commodity.Code")) %>%
fill(c("Country.Name", "Country.Code", "PIB_.1000_US..",
"Weighted.Average",
"contig","distw")) %>%
select(c(-"X.x", -"X.y",)) %>%
mutate(ln_PIB = log(PIB_.1000_US..,),
ln_Tariff = log(1 + Weighted.Average),
ln_Export = log(Imports.Value.in.1000.USD)) %>%
select(c(-"PIB_.1000_US..",-"Weighted.Average",
-"Imports.Value.in.1000.USD"))
df = left_join(pib,tarif, by=c("Country.Name", "Year")) %>%
filter(Year > 1996) %>%
left_join(distance, by="Country.Code") %>%
drop_na() %>%
left_join(export) %>%
right_join(Notif, by=c("Year", "Country.Code", "Commodity.Code")) %>%
fill(c("Country.Name", "Country.Code", "PIB_.1000_US..",
"Weighted.Average",
"contig","distw")) %>%
select(c(-"X.x", -"X.y",)) %>%
mutate(ln_PIB = log(PIB_.1000_US..,),
ln_Tariff = log(1 + Weighted.Average),
ln_Export = log(Imports.Value.in.1000.USD)) %>%
select(c(-"PIB_.1000_US.."))
View(export)
df = left_join(pib,tarif, by=c("Country.Name", "Year")) %>%
filter(Year > 1996) %>%
left_join(distance, by="Country.Code") %>%
drop_na() %>%
left_join(export) %>%
right_join(Notif, by=c("Year", "Country.Code", "Commodity.Code")) %>%
fill(c("Country.Name", "Country.Code", "PIB_.1000_US..",
"Weighted.Average",
"contig","distw")) %>%
select(c(-"X.x", -"X.y",)) %>%
mutate(ln_PIB = log(PIB_.1000_US..,),
ln_Tariff = log(1 + Weighted.Average),
ln_Export = log(Trade.Value..US..)) %>%
select(-"PIB_.1000_US..")
View(df)
df = left_join(pib,tarif, by=c("Country.Name", "Year")) %>%
filter(Year > 1996) %>%
left_join(distance, by="Country.Code") %>%
drop_na() %>%
left_join(export) %>%
right_join(Notif, by=c("Year", "Country.Code", "Commodity.Code")) %>%
fill(c("Country.Name", "Country.Code", "PIB_.1000_US..",
"Weighted.Average", "Trade.Value..US..",
"contig","distw")) %>%
select(c(-"X.x", -"X.y",)) %>%
mutate(ln_PIB = log(PIB_.1000_US..,),
ln_Tariff = log(1 + Weighted.Average),
ln_Export = log(Trade.Value..US..)) %>%
select(-"PIB_.1000_US..")
write.csv(df, "Modelo_Proprio.csv")
setwd("C:/Users/Thiago/Desktop/Google Drive/ITP/Modelo")
library(gravity)
df = read.csv("Modelo_Completo/Modelo_Proprio.csv")
df$Origin = "BRA"
modelo = ppml(
dependent_variable = "ln_Export",
distance = "distw",
additional_regressors = c(
"Animal.health",
"Consumer.information",
"Cost.saving",
"Food.safety",
"Harmonization",
"Labelling",
"Lower.barriers.to.trade",
"National.security.requirements",
"Not.specified",
"Other",
"Plant.protection",
"Prevention.of.deceptive.practices.and.consumer.protection",
"Protect.humans.from.animal.plant.pest.or.disease",
"Protect.territory.from.other.damage.from.pests",
"Protection.of.Human.health.or.Safety",
"Protection.of.animal.or.plant.life.or.health",
"Protection.of.the.environment",
"Quality.requirements",
"ln_PIB",
"ln_Tariff"
),
code_origin = "Origin",
code_destination = "Country.Code",
data = df
)
modelo = ppml(
dependent_variable = "ln_Export",
distance = "distw",
additional_regressors = c(
"Animal.health",
"Consumer.information",
"Cost.saving",
"Food.safety",
"Harmonization",
"Labelling",
"Lower.barriers.to.trade",
"National.security.requirements",
"Not.specified",
"Other",
"Plant.protection",
"Prevention.of.deceptive.practices.and.consumer.protection",
"Protect.humans.from.animal.plant.pest.or.disease",
"Protect.territory.from.other.damage.from.pests",
"Protection.of.Human.health.or.Safety",
"Protection.of.animal.or.plant.life.or.health",
"Protection.of.the.environment",
"Quality.requirements",
"ln_PIB",
"ln_Tariff"
),
code_origin = "Origin",
code_destination = "Country.Code",
data = df
)
df = read.csv("Modelo_Completo/Modelo_Proprio.csv")
df$Origin = "BRA"
modelo = ppml(
dependent_variable = "ln_Export",
distance = "distw",
additional_regressors = c(
"Animal.health",
"Consumer.information",
"Cost.saving",
"Food.safety",
"Harmonization",
"Labelling",
"Lower.barriers.to.trade",
"National.security.requirements",
"Not.specified",
"Other",
"Plant.protection",
"Prevention.of.deceptive.practices.and.consumer.protection",
"Protect.humans.from.animal.plant.pest.or.disease",
"Protect.territory.from.other.damage.from.pests",
"Protection.of.Human.health.or.Safety",
"Protection.of.animal.or.plant.life.or.health",
"Protection.of.the.environment",
"Quality.requirements",
"ln_PIB",
"ln_Tariff"
),
code_origin = "Origin",
code_destination = "Country.Code",
data = df
)
summary(modelo)
summary(modelo)
